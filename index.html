<!doctype html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <script src="https://d3js.org/d3.v5.min.js"></script>

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css" integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk" crossorigin="anonymous">

    <title>Hello, world!</title>
  </head>
  <body >
    
        <div class="jumbotron jumbotron-fluid">
  <div class="container">
      <h1> PRIMARY FACTORS FOR AUTOMOBILE FUEL EFFICIENCY  </h1>
      <img src="Cars.jpg" class="img-fluid" alt="Responsive image">
       </div>
     </div>
     <h2> Automobiles : An Integral part of life </h2>
     <p> The automobile was first invented and perfected in Germany and France in the late 1800s, though Americans quickly came to dominate the automotive industry in the first half of the twentieth century. Henry Ford innovated mass-production techniques that became standard, and Ford, General Motors and Chrysler emerged as the “Big Three” auto companies by the 1920s. Manufacturers funneled their resources to the military during World War II, and afterward automobile production in Europe and Japan soared to meet growing demand. Once vital to the expansion of American urban centers, the industry had become a shared global enterprise with the rise of Japan as the leading automaker by 1980.

Although the automobile was to have its greatest social and economic impact in the United States, it was initially perfected in Germany and France toward the end of the nineteenth century by such men as Gottlieb Daimler, Karl Benz, Nicolaus Otto and Emile Levassor.</p>


<h2>How many cars in the world?</h2>

<p>The specific numbers are a little hard to obtain, what with all the different bodies responsible for counting them, but the best estimate put the figure at around 1.32 billion cars, trucks and buses in 2016. That was the number settled on by US auto-industry giant WardsAuto, with the caveat that it didn’t include off-road vehicles or heavy machinery. (Source: Wards Intelliegence)

Some industry analysts think the number has already surpassed 1.4 billion in the few years since. And it continues to grow at an astonishing rate. To put that growth into perspective, the world was home to around 670 million vehicles in 1996, and just 342 million vehicles in 1976.

If that staggering rate of growth continues, the total doubling every 20 years, then we can expect to see some 2.8 billion vehicles on the planet in 2036.</p>
<h2>Enough Fuel for the Cars ?</h2>

<p>Majority of the cars today are powered by fuels like Gasoline and Diesel, with a few electrically powered cars now coming to the forefront, thanks to the rapid progress in the required technologies .
  Still over 97% of the Cars in the World operate using Gasoline and Diesel , and that number would still by as high as 93 % even in 2030 .
  <b>With the Oil Reserves of the World being a finite resource, it would make a worthwhile effort to 
  study the various factors that impact the fuel efficiency of cars and highlight the major ones .</b>
  <u>While driving habits ( agrresive vs moderate) and maintenance of the vehicle ( engine oil change, tire tread) are considerable factors, but the major difference to fuel economy is impacted by 3 most significant factors : </u>
  <ul >
  <li > Number of Cyclinders in the Car Engine</li>
  <li > Type of fuel used by the Car Engine</li>
  <li > Driving in city vs Driving on Highways</li>
  </ul>
  <h2>#1 Exploring Number of Engine Cylinders</h2>

<p> The engines are traditionally built to create a perfect balance of power and fuel efficiency . Higher the number of cylinders in an engine , more the power it can generate at any given point in time, but unfortunately it lowers the fuel efficiency of the automobile since that much more fuel is ingested and burned in each cylinder . <i><u>The sweet spot for enough power for regular passenger cars coupled with a good fuel mileage has been found at <b style ="color:red">4 cylinder engines</b> ,</i></u> as can see seen in the chart below and annotated by the <b style="color:red">red line</b> . Y -axis is the number of cylinders and X-axis is the major car manufacturers in the world today.</p>
      <svg width=1200 height =800 style="border:1px solid black">
        <line x1="25" y1="423" x2="1200" y2="423" style="stroke:rgb(255,0,0);stroke-width:5" /> 
        <!-- annotation
  <rect x= 1140 y = 360  width = 50 height = 50 style="border:1px solid black" ></rect>  -->
       <div width =1000 height =50 >
       <h3 align = center style ="font-color:white">NUMBER OF ENGINE CYLINDERS IN MAJOR CAR MAKES  </h3>
     </div>
  </svg>
  <div>
  <div align = "center">
    <a align = "center " href="index.html" class="btn btn-primary">Fuel Type and Fuel Efficiency >></a>
    
  </div>

  <script type="text/javascript">
var color =["red","magenta","aquamarine","purple","navy","gold","pink"]
d3.csv("https://raw.githubusercontent.com/swapgithub108/project1/master/automobile%20manufacturers%20and%20cylinders.csv", d3.autoType).then(function(data) { 
  //d3.select("svg").selectAll("rect").data(data).enter().append("rect").attr("width",20).attr("height",function (d){return d.Height ;}).attr("x", function(d,i){return (20*i)+2;}).attr("y",function(d) {return 400 -d.Height;}).attr("fill",function(d,i) {return color[i];})
//var data = [10,20,30,40,50,60]
console.log(data[0].EngineCylinders)
//var Names =["Swapnil","dipti","neel","tata","amma","ajoba","aaji"]
var width = 1145;
var height = 600;
var margin = 25;
var x = d3.scaleBand().domain(data.map(function(d) { return d.Make; })).range([0,width]);
var y = d3.scaleLinear().domain([0,12]).range([height,0]);

d3.select("svg").append("g").attr('id','bars').attr("transform", "translate("+margin+","+margin+")").selectAll('g').data(data).enter().append('rect').attr("width", 11).attr('x', function(d,i) {return 11*i}).attr("height", 0).attr('y',600).transition().duration(8000).delay(6000).attr('y', (d) => y(d.EngineCylinders)).attr("height", (d) => y(0) - y(d.EngineCylinders)).attr("fill",function(d){
  if (d.Make === 'Acura' ) {return "#bd3119";}
  if (d.Make === 'Alpha Romeo' ) {return "yellow";}
  if (d.Make === 'Aston Martin' ) {return "#3f96c4";}
  if (d.Make === 'Audi' ) {return "#832cc9";}
  if (d.Make === 'Bentley' ) {return "#c4c223";}
  if (d.Make === 'BMW' ) {return "#fc9803";}
  if (d.Make === 'Buick' ) {return "#4642d4";}
  if (d.Make === 'Cadillac' ) {return "#ab2c61";}
  if (d.Make === 'Chevrolet' ) {return "#92c22b";}
  if (d.Make === 'Chrysler' ) {return "#3848b0";}
  if (d.Make === 'Dodge' ) {return "#cf3c2b";}
  if (d.Make === 'Ferrari' ) {return "#c9b320"}
  if (d.Make === 'Fiat' ) {return "#72b57f";}
  if (d.Make === 'Ford' ) {return "#7a6137"}
    if (d.Make === 'Genesis' ) {return "#b528b3";}
  if (d.Make === 'GMC' ) {return "#63c6cf";}
  if (d.Make === 'Honda' ) {return "#5f599c"}
  if (d.Make === 'Infiniti' ) {return "#dbde31";}
   if (d.Make === 'Jaguar' ) {return "#4e803d";}
  if (d.Make === 'Jeep' ) {return "#948182"}
  if (d.Make === 'Kia' ) {return "#b58333";}
  if (d.Make === 'Hyundai' ) {return "#9e738a"}
 if (d.Make === 'Lamborghini' ) {return "#21dbc9";}
  if (d.Make === 'Land Rover' ) {return "#609ebd"}
  if (d.Make === 'Lexus' ) {return "#3c661c";}
  if (d.Make === 'Lincoln' ) {return "#8a90cf"}
if (d.Make === 'Lotus' ) {return "#576360";}
  if (d.Make === 'Maserati' ) {return "#fa07c9"}
  if (d.Make === 'Mazda' ) {return "#d1edcc";}
  if (d.Make === 'McLaren Automotive' ) {return "#27535c"}
    if (d.Make === 'Mercedes-Benz' ) {return "#a4fcb0";}
  if (d.Make === 'MINI' ) {return "#ffa305"}
  if (d.Make === 'Mitsubishi' ) {return "#475443";}
  if (d.Make === 'Nissan' ) {return "#9c6119"}
 if (d.Make === 'Porsche' ) {return "#053efa";}
  if (d.Make === 'Rolls-Royce' ) {return "#79f765"}
  if (d.Make === 'Roush Performance' ) {return "#d9d502";}
  if (d.Make === 'smart' ) {return "#036116"}
    if (d.Make === 'Subaru' ) {return "#e0c143"}
 if (d.Make === 'Toyota' ) {return "#99020e";}
  if (d.Make === 'Volkswagen' ) {return "#ded6a4"}
  if (d.Make === 'Volvo' ) {return "#04a4c4";}
  if (d.Make === 'Nissan' ) {return "#7c9970"}
})
d3.select("svg").append("g").attr("transform", "translate("+margin+","+margin+")").call(d3.axisLeft(y));
d3.select("svg").append("g").attr("transform", "translate("+margin+","+(height+margin)+")").call(d3.axisBottom(x)).selectAll("text")  
        .style("text-anchor", "end")
        .attr("dx", "-.8em")
        .attr("dy", ".15em")
        .attr("transform", "rotate(-90)")//.append("text").text(d.Make)//.attr("transform","rotate(-65)");
//d3.select("svg").selectAll("rect").data(data).on("mouseover",function(d,i){tooltip.style("opacity",1).style("left",(d3.event.pageX)+"px").style("top",(d3.event.pageY)+"px").html("weight is"+ d.Weight)})
d3.select('body').append('div').attr('id', 'tooltip').attr('style', 'position: absolute; opacity: 0;');
d3.selectAll("rect").data(data).on('mouseover', function(d) {
 d3.select('#tooltip').transition().duration(200).style('opacity', 1).text(d.EngineCylinders+" Cyl "+d.Make).style("left",(d3.event.pageX)+"px").style("top",(d3.event.pageY)+"px")
 }) .on('mouseout', function() {
 d3.select('#tooltip').style('opacity', 0)
 })

//d3.select("#bars").style('fill',"Green")
svg.selectAll("text").data(data).enter().append('text').text(function (d) {return d.Make}).attr("transform","rotate(-90)").attr('x', function(d,i) {return ((10*i)+5)}).attr('y',200)//attr("font-family", "sans-serif")
   //.attr("font-size", "7px")
   //.attr("fill", "black");
svg.append("text")             
      .attr("transform",
            "translate(" + (width/2) + " ," + 
                           (height + margin.top + 200) + ")")
      .style("text-anchor", "middle")
      .text("Date");


})
</script>
    <!-- Optional JavaScript -->
    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js" integrity="sha384-OgVRvuATP1z7JjHLkuOU7Xw704+h835Lr+6QL9UvYjZE3Ipu6Tp75j7Bh/kR0JKI" crossorigin="anonymous"></script>
  </body>
</html>